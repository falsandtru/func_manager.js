/*! Function Manager v0.4.0 | (c) 2014, falsandtru | MIT Licence */
(function(h,d,t){function k(a){a=a.toString();a=a.match(/^function[^(]*\([^)]*\)[^{]*|{(?:.|[\n\r])*}$/gm);a[0]=a[0].replace(/^function[^(]*\(|\).*$/gm,"");a[1]=a[1].replace(/^{|}$/g,"");a.splice.apply({},[0,1].concat(a[0]&&a[0].match(/\w+/g)));return a}function r(){try{var a={};Object.defineProperty(a,"test",{get:Function(),set:Function()});this.type="ecma";return}catch(h){}try{a={};a.__defineGetter__("test",Function());a.__defineSetter__("test",Function());this.type="old";return}catch(k){}try{a=
d.createElement("FM_ACCESSOR");Object.defineProperty(a,"test",Function());Object.defineProperty(a,"test",Function());this.accessor=d.createElement("FM_ACCESSOR");this.type="element";return}catch(e){}this.holder=d.createElement("FM_HOLDER");this.accessor=d.createElement("FM_ACCESSOR");d.getElementsByTagName("head")[0].appendChild(this.holder);this.type="dom"}h.FuncManager=function(a,d){function s(a,b,d){return eval(a).call(this)}function e(a,d){a=a||"";d=d||{};var h=this;m[a]&&g.accessor&&b.detachEvent("onpropertychange",
m[a]);var c=new function(){function a(){var b,n,p;b=[].slice.call(arguments);p=d;c.each.call(this,function(a,c){n=c.apply(this,b.concat(a?p.chain?[n]:[]:p.params))});return n}var c=this,f=[],a=d.ctor?s.call(h,"(1&&function(){"+k(d.ctor).pop()+";\n"+k(function(){return a}).pop().replace("exec",(new Function(k(a).pop())).toString().replace("anonymous","")).replace(/([\w\[\]]+)\.apply/,'eval("(1&&"+$1.toString()+")").apply')+";\n})",d,c):a;this.get=function(){return a};this.set=function(){return c.push.apply(c,
[].slice.call(arguments))};this.acc=b;this.exec=function(){return c.get().apply(this,[].slice.call(arguments))};this.each=function(a){for(var c,b=0;c=f[b];b++)switch(c=a.call(this,b,c),typeof c){case "function":f[b]=c;break;default:switch(c){case !1:return}}};this.replace=function(a,c){for(var b,d=0;b=f[d];d++)if(a===b||a.toString()===b.toString())"function"===typeof c?f.splice(d,1,c):f.splice(d,1)};this.clear=function(){f=[]};this.release=function(){g.holder&&g.holder.removeChild(b)};this.push=function(){var a;
a=[].slice.call(arguments);for(var b=0,e;e=a[b];b++)"function"!==typeof e&&a.splice(b--,1);d.unique&&c.each(function(b,d){for(var e=0,f;f=a[e];e++)d!==f&&(d=d.toString())!==f.toString()||d===c.get().toString()||d===c.exec.toString()||a.splice(e--,1)});return[].push.apply(f,a)};this.pop=function(){return f.pop()};this.unshift=function(a){return[].unshift.apply(f,[].slice.call(arguments))};this.shift=function(){return f.shift()}};b[a]=null;switch(g.type){case "ecma":Object.defineProperty(b,a,{get:c.get,
set:c.set});break;case "old":b.__defineGetter__(a,c.get);b.__defineSetter__(a,c.set);break;case "element":Object.defineProperty(b,a,{get:c.get,set:c.set});break;default:g.holder.appendChild(b);var q=function(d){d.propertyName===a&&(c.acc.detachEvent("onpropertychange",arguments.callee),c.set(b[a]),c.acc[a]=c.exec,c.acc.attachEvent("onpropertychange",arguments.callee))};m[a]=q;b[a]=c.exec;b.attachEvent("onpropertychange",q)}e[a]={};for(var l in c)b[a][l]=c[l],e[a][l]=c[l];return b}switch(this){case h:case h:return FuncManager.call({},
a,d)}switch(typeof a){case "string":a=a.split(/[\s,]{1,}/)}var g=new r,b=g.accessor?g.accessor.cloneNode():{},m={};a instanceof Array&&function(){for(var b=0,g=a.length;b<g;b++)e.call(this,a[b],d)}();return{accessor:b,manager:e,context:this,arguments:[b,e],contextArguments:[this,[b,e]]}}})(window,window.document,void 0);
